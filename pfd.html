<button onclick="requestOrientationAccess()">Activer le gyroscope</button>

<script>
function requestOrientationAccess() {
  if (typeof DeviceOrientationEvent !== 'undefined' && typeof DeviceOrientationEvent.requestPermission === 'function') {
    // iOS 13+ demande une permission explicite
    DeviceOrientationEvent.requestPermission()
      .then(permissionState => {
        if (permissionState === 'granted') {
          window.addEventListener('deviceorientation', handleOrientation);
        } else {
          alert("Permission refusée pour l'accès à l'orientation.");
        }
      })
      .catch(console.error);
  } else {
    // Android ou anciens navigateurs n'ont pas besoin de permission
    window.addEventListener('deviceorientation', handleOrientation);
  }
}

function handleOrientation(event) {
  console.log("Alpha:", event.alpha);
  console.log("Beta :", event.beta);
  console.log("Gamma:", event.gamma);
}
</script>
