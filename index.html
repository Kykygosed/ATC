<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Transpondeur Squawk</title>
<style>
  @font-face {
    font-family: 'DS-Digital';
    src: url('https://fonts.cdnfonts.com/s/11555/DS-DIGI.TTF') format('truetype');
    font-weight: bold;
  }
  body {
    font-family: Arial, sans-serif;
    background: #000;
    color: #0f0;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 40px;
  }
  #display {
    font-family: 'DS-Digital', monospace;
    font-weight: bold;
    font-size: 5rem;
    background: #222;
    border: 3px solid #0f0;
    width: 220px;
    text-align: center;
    padding: 10px;
    letter-spacing: 0.3em;
    user-select: none;
  }
  #keyboard {
    margin-top: 20px;
    display: grid;
    grid-template-columns: repeat(3, 70px);
    grid-gap: 10px;
  }
  button {
    font-size: 2rem;
    background: #222;
    border: 2px solid #0f0;
    color: #0f0;
    cursor: pointer;
    padding: 10px 0;
    user-select: none;
  }
  button:active {
    background: #0f0;
    color: #000;
  }
  #clear {
    grid-column: span 3;
    background: #f00;
    color: #fff;
  }
</style>
</head>
<body>

<div id="display">----</div>

<div id="keyboard">
  <button class="digit">0</button>
  <button class="digit">1</button>
  <button class="digit">2</button>
  <button class="digit">3</button>
  <button class="digit">4</button>
  <button class="digit">5</button>
  <button class="digit">6</button>
  <button class="digit">7</button>
  <button class="digit">8</button>
  <button class="digit">9</button>
  <button id="backspace">‚Üê</button>
  <button id="clear">Clear</button>
</div>

<script>
  const display = document.getElementById('display');
  const digits = document.querySelectorAll('.digit');
  const clearBtn = document.getElementById('clear');
  const backspaceBtn = document.getElementById('backspace');

  let squawkArray = ['-', '-', '-', '-'];

  function updateDisplay() {
    display.textContent = squawkArray.join('');
  }

  function clearSquawk() {
    squawkArray = ['-', '-', '-', '-'];
    updateDisplay();
  }

  function addDigit(digit) {
    // remplace le premier '-' par le digit
    const index = squawkArray.findIndex(c => c === '-');
    if (index !== -1) {
      squawkArray[index] = digit;
      updateDisplay();
    }
  }

  function backspace() {
    // remplace le dernier chiffre par '-'
    for (let i = squawkArray.length - 1; i >= 0; i--) {
      if (squawkArray[i] !== '-') {
        squawkArray[i] = '-';
        updateDisplay();
        break;
      }
    }
  }

  digits.forEach(btn => {
    btn.addEventListener('click', () => {
      addDigit(btn.textContent);
    });
  });

  clearBtn.addEventListener('click', clearSquawk);
  backspaceBtn.addEventListener('click', backspace);

  // Initialisation
  updateDisplay();
</script>

</body>
</html>
